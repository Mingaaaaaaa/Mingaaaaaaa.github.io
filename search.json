[{"title":"c语言程序设计周","url":"/2022/05/22/c%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%91%A8/","content":"（搭了一个博客这么久都没有写过什么东西，试试手）\n​ 本文记录作者在大一下册程序设计周的过程。\n​ 本次作业是三人合作实现一个连连看的游戏（C 语言）\n刚看到题目时觉得游戏难度不小，主要原因还是上个学期的 C 语言没有什么程序设计的经验，无非是写写运算和熟悉语法。所有刚开始的两天队友也都没什么动静，摆了两天。后来开始作业，我负责了菜单的设计（全是 printf,乐）没有什么难度，后来写了生成矩阵，计时功能，数据录入，和最后的完善（老师提的提示功能）\n消除逻辑部分接触不多，自己没有想透彻，队友解决了！此时也才花了二三天的时间。后面一周干了什么不太有印象了\n总之，本次游戏的难点在于 消除算法的实现 和 restart 的逻辑，\n后来答辩时也没有完全符合题目需求（答辩迟迟不开展拖了一个月，真无语），答辩后重新审视代码，确实和题目要求有不小的出入，比如地图的生成靠随机数是很睿智的选择，restart 直接换一批更是重量级！真不知道当时咋想的（我是啥 b)，提示功能和第一次生成地图不能死局的实现是类似的，答辩后队友纷纷开摆，作者只能把上面的缺陷慢慢修补（restart 不是俺写的，虽然是把所剩字母放在数组里打乱顺序再替换原来的地图）\n总结如下:\n\n"},{"title":"使用CSS和JS实现灵动岛动画","url":"/2022/10/03/%E4%BD%BF%E7%94%A8CSS%E5%92%8CJS%E5%AE%9E%E7%8E%B0%E7%81%B5%E5%8A%A8%E5%B2%9B%E5%8A%A8%E7%94%BB/","content":"使用 CSS 和 JavaScript 实现 iPhone 14 Pro “灵动岛” 动画\n背景：在我十八岁的最后一天 9.8 号，苹果公司召开秋季新品发布会，推出了 iPhone 14 等一系列产品。\n\n\n和大家一样，第一眼看到的时候我也觉得很惊艳，这丝滑带来的高级感，好灵动 😮！觉得厨子真是巧夺天工。作为一名前端学习者，我最感兴趣的当然是灵动岛动画的实现。经过一定的了解和学习后，那么让我们进入今天的主题，如何用 CSS 和 Javascript 来浅浅灵动一下。\n\n相关的前端知识本次分享会涉及前端三大件：\n\nHTML 定义了网页的内容\nCSS 描述了网页的布局\nJavaScript 控制了网页的行为\n\n\n让我们开始吧!首先我们先用 HTML 和 CSS 做出手机的静态页面\nHTML 代码\n&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;    &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot; /&gt;    &lt;title&gt;Document&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;div class=&quot;iphone14Pro&quot;&gt;      &lt;div class=&quot;dynamic-island&quot;&gt;&lt;/div&gt;    &lt;/div&gt;  &lt;/body&gt;&lt;/html&gt;\n\nCSS 代码\n.iphone14Pro &#123;  position: relative;  margin: auto;  width: 974px;  height: 876px;  overflow: hidden;  background-image: url(https://www.apple.com.cn/v/iphone-14-pro/a/images/overview/dynamic-island/dynamic_hw__btl4fomgspyu_large.png);&#125;.dynamic-island &#123;  width: 320px;  margin-top: 72px;  margin: 72px auto 0;  background-color: red;  height: 80px;  border-radius: 40px;  position: relative;&#125;此处因为类名为dynamic-island的div内没有内容，所以用::before  和::after没有区别  .dynamic-island::before &#123;  position: absolute;  content: &quot; &quot;;  right: 0;  width: 80px;  height: 100%;  border-radius: 80px;  background-color: #272729;&#125;\n\n这样我们就得到了半部 iPhone 14Pro啦！(bushi)\n\n距离灵动岛只需要一点点 CSS 和 JS 就可以啦 😁\n\n一些 Web 动画的知识目前 web 动画在实现时主要有两种方式：CSS/ JS\n但是独立使用任何一个都不是最好的解决方案\n只用 CSS3 时，我们不好控制整个动画进程，如简单的点击触发动画，循环轮播整套动画等。\n只用 JS ，由于 JS 单线程的特性，所以在动画渲染时，性能不如 CSS3，可能出现不流畅情况。\n\n在 CSS3 中，也有两种实现灵动岛这样的过渡动画的方法： animation 和 transitionanimation 属性animatio 是很多属性的简写，我们简单介绍了解一下：\nanimation: name duration timing-function delay iteration-count direction  fill-mode;\n\nname: 代表一个由@keyframes定义的动画序列的名字\nduration ： 动画持续时间\ntiming-function ： 定义动画在每一动画周期中执行的节奏：CSS ease 各种效果的区别（ease 与 ease-in-out 的区别）_哔哩哔哩_bilibili\ndelay ： 动画开始前的延迟时间\niteration-count: 动画播放次数\ndirection： 指示动画是否反向播放\nfill-mode： 设置动画在执行之前和之后对应的样式选择\ntransition 属性transition 也是是很多属性的简写，我们简单介绍了解一下：\ntransition-property: 指定应用过渡属性的名称, 默认为 all\ntransition-duration： 过度动画的持续时间\ntransition-timing-function： 和上面的 timing-function 类似\ntransition-delay： 和上面的 delay 类似\n下面我们会分别使用这两个属性来实现动画效果\n\n灵动岛的具体实现我们今天简单实现下面四个常用的动画效果\n1.后台有音乐，倒计时，开热点，打电话等活动时，灵动岛变成长条① 我们先用 transition 属性来实现只需要在灵动岛的 CSS 上加上一个 transition 属性\ntransition:    width    cubic-bezier(0.3, 2, 1.0, 0.9)  0.8s;\t/*  灵动岛宽度变化时 遵循上面这个贝塞尔曲线函数  并在0.8s内完成 */然后我们用鼠标停在灵动岛模拟后台有活动.dynamic-island:hover &#123;width: 50vw;&#125; 让我们看看效果\n\n​ ② 我们用 animation 属性来实现\n​ 因为是给鼠标悬停时加动画，animation 的属性加在 hover 的伪类选择器上\n.dynamic-island:hover &#123;  animation: long 800ms ease-in-out forwards;  /*  当鼠标停在灵动岛上，触发名为long的动画，              0.8s内完成   且结束后定在最后一帧*/&#125;下面我们定义long 的动画 @keyframes long &#123;  0% &#123;  &#125;  60% &#123;    width: 50vw;  &#125;  80% &#123;    transform: scaleX(1.04);  &#125;  100% &#123;    transform: scaleX(1);    width: 50vw;  &#125;&#125;\n\n我们不难发现，要让动画有 “灵动感” ，动画的结尾往往表现出一种”超过预期大小，然后又缩回“ 的效果，在一伸一缩之中给了观众灵动的感觉。\n对比 transition 和 animation他们虽然都能做出“灵动感”，但是前者的实现会相对困难一些，虽然代码看起来简洁，但是贝塞尔曲线来描述理想的动画并没有直接用 animation 的定义关键帧写起来直观~\n所以下面的动画效果都用 animation 实现（肯定不是我偷懒 🙃）\n\n2.后台同时有两个活动的时候，灵动岛会分成两个部分（三个以上只显示两个）​ 我们用点击灵动岛给灵动岛加类名的方式，让灵动岛在不同动画间切换\n​ 灵动岛分成两部分的原理是把里面藏着的一个小球弹出，本身也做一个放大缩小的动感\n.divide &#123;  animation: divide-left 800ms ease-in-out forwards;&#125;@keyframes divide-left &#123;  0% &#123;  &#125;  40% &#123;    transform: scaleX(1.1);  &#125;  100% &#123;    transform: scaleX(1);  &#125;&#125;.divide::before &#123;  animation: divide-right 800ms ease-in-out forwards;&#125;@keyframes divide-right &#123;  0% &#123;  &#125;  40% &#123;    transform: scaleX(1.1);  &#125;  100% &#123;    transform: scaleX(1);    right: -100px;  &#125;&#125;\n\n\n3.关掉只剩一个后台任务时，两部分融合与分开成两部分类似，逆过程\n.fusion &#123;  animation: fusion-left 800ms ease-in-out forwards;&#125;@keyframes fusion-left &#123;  0% &#123;  &#125;  40% &#123;    transform: scaleX(1.1);  &#125;  100% &#123;    transform: scaleX(1);  &#125;&#125;.fusion::before &#123;  animation: fusion-right 800ms ease-in-out forwards;&#125;@keyframes fusion-right &#123;  0% &#123;    right: -100px;  &#125;  40% &#123;    transform: scaleX(1.1);  &#125;  100% &#123;    transform: scaleX(1);    right: 0;  &#125;&#125;\n\n\n4.长按唤出小组件的状态原理是把灵动岛变宽变长，小圆球设置为 display:none\n.bigger &#123;  animation: bigger 800ms ease-in-out forwards;&#125;@keyframes bigger &#123;  0% &#123;  &#125;  60% &#123;    width: 81vw;    height: 400px;    border-radius: 100px;  &#125;  80% &#123;    transform: scaleX(1.04);  &#125;  100% &#123;    width: 81vw;    height: 400px;    border-radius: 100px;    transform: scaleX(1);  &#125;&#125;.bigger::before &#123;  display: none;&#125;\n\n\nJS 代码实现const dynamicIsland = document.querySelector(&quot;.dynamic-island&quot;);let index = 0;animationList = [&quot;long&quot;, &quot;normal&quot;, &quot;divide&quot;, &quot;fusion&quot;, &quot;bigger&quot;, &quot;reset&quot;];dynamicIsland.addEventListener(&quot;click&quot;, () =&gt; &#123;  setTimeout(() =&gt; &#123;    if (index &lt;= animationList.length - 1) &#123;      dynamicIsland.classList.add(animationList[index]);      index++;    &#125; else &#123;      index = 0;      dynamicIsland.classList.remove(        &quot;long&quot;,        &quot;normal&quot;,        &quot;divide&quot;,        &quot;fusion&quot;,        &quot;bigger&quot;,        &quot;reset&quot;      );      dynamicIsland.classList.add(animationList[index]);    &#125;  &#125;, 100);&#125;);\n\n总结：iPhone 14 Pro 好不好用，灵动岛的实际体验到底好不好，我并没有资格评价(没用过）\n但是灵动岛这种新颖的交互方式和大胆创新的勇气，都值得我们学习\n好了今天分享就到这里，相信大家就算没有买 iPhone 14，也灵动了一把 😊。\n代码地址：Mingaaaaaaa/Dynamic-Island (github.com)\n"}]